function initVideo(e,i){if(Hls.isSupported()){var o=new Hls;o.loadSource(i),o.attachMedia(e),o.on(Hls.Events.MANIFEST_PARSED,function(){e.play()})}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src="https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8",e.addEventListener("loadedmetadata",function(){e.play()}))}function videoControlsChangeValue(e){videoFilters[e-1]&&(console.log(videoFilters[e-1]),videoFilters[e-1].contrast||0==videoFilters[e-1].contrast?(console.log(100*videoFilters[e-1].contrast),$("#video__contrast").val(100*videoFilters[e-1].contrast),console.log("val changed")):(console.log("100"),$("#video__contrast").val(100)),videoFilters[e-1].brightness||0==videoFilters[e-1].brightness?$("#video__brightness").val(100*videoFilters[e-1].brightness):$("#video__brightness").val(100))}function initVideoFilters(){for(var e={},i=$(".video__item").length,o=0;o<i;o++)e[o]={},e[o].contrast=1,e[o].brightness=1;return e}function videoCssAnimation(){$(".video__item-1").click(function(){$(".video__item-1").addClass("h-45 w-100"),$(".video__item-2").addClass("h-45 w-0 o-0"),$(".video__item-3").addClass("h-0 o-0"),$(".video__item-4").addClass("h-0 o-0"),$(".video__controls").addClass("o-1"),videoControlsChangeValue(videoNum=1)}),$(".video__item-2").click(function(){$(".video__item-1").addClass("h-45 w-0 o-0"),$(".video__item-2").addClass("h-45 w-100"),$(".video__item-3").addClass("h-0 o-0"),$(".video__item-4").addClass("h-0 o-0"),$(".video__controls").addClass("o-1"),videoControlsChangeValue(videoNum=2)}),$(".video__item-3").click(function(){$(".video__item-1").addClass("h-0 o-0"),$(".video__item-2").addClass("h-0 o-0"),$(".video__item-3").addClass("w-100 h-45"),$(".video__item-4").addClass("w-0 h-45 o-0"),$(".video__controls").addClass("o-1"),videoControlsChangeValue(videoNum=3)}),$(".video__item-4").click(function(){$(".video__item-1").addClass("h-0 o-0"),$(".video__item-2").addClass("h-0 o-0"),$(".video__item-3").addClass("w-0 h-45 o-0"),$(".video__item-4").addClass("w-100 h-45"),$(".video__controls").addClass("o-1"),videoControlsChangeValue(videoNum=4)}),$(".video__button").click(function(){$(".video__item-1").removeClass("h-0 w-0 o-0 h-45 w-100"),$(".video__item-2").removeClass("h-0 w-0 o-0 h-45 w-100"),$(".video__item-3").removeClass("h-0 w-0 o-0 h-45 w-100"),$(".video__item-4").removeClass("h-0 w-0 o-0 h-45 w-100"),$(".video__controls").removeClass("o-1"),videoNum=null})}function changeContrast(e){if(videoNum){var i="contrast("+e/100+")";$(".video__item-"+videoNum).css("filter",i),videoFilters||(videoFilters=initVideoFilters()),videoFilters[videoNum-1].contrast=e/100}}function changeBrightness(e){if(videoNum){var i="brightness("+e/100+")";$(".video__item-"+videoNum).css("filter",i),videoFilters||(videoFilters=initVideoFilters()),videoFilters[videoNum-1].brightness=e/100}}var videoNum;initVideo(document.getElementById("video-1"),"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8"),initVideo(document.getElementById("video-2"),"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"),initVideo(document.getElementById("video-3"),"http://184.72.239.149/vod/smil:BigBuckBunny.smil/playlist.m3u8"),initVideo(document.getElementById("video-4"),"http://www.streambox.fr/playlists/test_001/stream.m3u8"),console.log("init");var videoFilters=initVideoFilters();450<$(document).width()&&videoCssAnimation(),$(window).resize(function(){450<$(document).width()&&videoCssAnimation()});
function cutSongName(n){if($(window).width()<450){var t=n;23<t.length&&(t=t.substring(0,23),t+="..."),$(".player__song").text(t)}}$(document).ready(function(){var n=$(".player__song").text();cutSongName(n),$(window).resize(function(){cutSongName(n)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvL3ZpZGVvLmpzIiwibWFpbi9jYXJkL3BsYXllci9wbGF5ZXIuanMiXSwibmFtZXMiOlsiaW5pdFZpZGVvIiwidmlkZW8iLCJ1cmwiLCJIbHMiLCJpc1N1cHBvcnRlZCIsImhscyIsImxvYWRTb3VyY2UiLCJhdHRhY2hNZWRpYSIsIm9uIiwiRXZlbnRzIiwiTUFOSUZFU1RfUEFSU0VEIiwicGxheSIsImNhblBsYXlUeXBlIiwic3JjIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZpZGVvQ29udHJvbHNDaGFuZ2VWYWx1ZSIsIm51bSIsInZpZGVvRmlsdGVycyIsImNvbnNvbGUiLCJsb2ciLCJjb250cmFzdCIsIiQiLCJ2YWwiLCJicmlnaHRuZXNzIiwiaW5pdFZpZGVvRmlsdGVycyIsInJlc3VsdCIsImNvdW50IiwibGVuZ3RoIiwiaSIsInZpZGVvQ3NzQW5pbWF0aW9uIiwiY2xpY2siLCJhZGRDbGFzcyIsInZpZGVvTnVtIiwicmVtb3ZlQ2xhc3MiLCJjaGFuZ2VDb250cmFzdCIsImNzc0NvbnRyYWN0IiwiY3NzIiwiY2hhbmdlQnJpZ2h0bmVzcyIsImNzc0JyaWdodG5lc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwid2lkdGgiLCJ3aW5kb3ciLCJyZXNpemUiLCJjdXRTb25nTmFtZSIsInNvbmdOYW1lIiwiYSIsInN1YnN0cmluZyIsInRleHQiLCJyZWFkeSIsImZpcnN0U29uZ05hbWUiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFVBQVVDLEVBQU9DLEdBQ3RCLEdBQUlDLElBQUlDLGNBQWUsQ0FDbkIsSUFBSUMsRUFBTSxJQUFJRixJQUNkRSxFQUFJQyxXQUFXSixHQUNmRyxFQUFJRSxZQUFZTixHQUNoQkksRUFBSUcsR0FBR0wsSUFBSU0sT0FBT0MsZ0JBQWlCLFdBQy9CVCxFQUFNVSxjQUVIVixFQUFNVyxZQUFZLG1DQUN6QlgsRUFBTVksSUFBTSwyREFDWlosRUFBTWEsaUJBQWlCLGlCQUFrQixXQUNyQ2IsRUFBTVUsVUFNbEIsU0FB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QyxVQUNJdUMsU0FBU0MsZUFBZSxXQUN4QixtRUFFSnhDLFVBQ0l1QyxTQUFTQyxlQUFlLFdBQ3hCLGtFQUVKeEMsVUFDSXVDLFNBQVNDLGVBQWUsV0FDeEIsMERBS0p0QixRQUFRQyxJQUFJLFFBQ1osSUFBSUYsYUFBZU8sbUJBRUksSUFBcEJILEVBQUVrQixVQUFVRSxTQUNYWixvQkFHSlIsRUFBR3FCLFFBQVNDLE9BQU8sV0FDTSxJQUFwQnRCLEVBQUVrQixVQUFVRSxTQUNYWjtBQ2hKTixTQUFTZSxZQUFZQyxHQUNqQixHQUFJeEIsRUFBRXFCLFFBQVFELFFBQVUsSUFBSyxDQUN6QixJQUFJSyxFQUFJRCxFQUNPLEdBQVhDLEVBQUVuQixTQUNGbUIsRUFBSUEsRUFBRUMsVUFBVSxFQUFHLElBQ25CRCxHQUFLLE9BRVR6QixFQUFFLGlCQUFpQjJCLEtBQUtGLElBakJoQ3pCLEVBQUVrQixVQUFVVSxNQUFNLFdBRWQsSUFBSUMsRUFBZ0I3QixFQUFFLGlCQUFpQjJCLE9BQ3ZDSixZQUFZTSxHQUNaN0IsRUFBR3FCLFFBQVNDLE9BQU8sV0FDZkMsWUFBWU0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vVmlkZW8gZnJvbSBodHRwczovL2JpdG1vdmluLmNvbS9tcGVnLWRhc2gtaGxzLWV4YW1wbGVzLXNhbXBsZS1zdHJlYW1zL1xyXG5mdW5jdGlvbiBpbml0VmlkZW8odmlkZW8sIHVybCkge1xyXG4gICAgaWYgKEhscy5pc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgdmFyIGhscyA9IG5ldyBIbHMoKTtcclxuICAgICAgICBobHMubG9hZFNvdXJjZSh1cmwpO1xyXG4gICAgICAgIGhscy5hdHRhY2hNZWRpYSh2aWRlbyk7XHJcbiAgICAgICAgaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAodmlkZW8uY2FuUGxheVR5cGUoJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsJykpIHtcclxuICAgICAgICB2aWRlby5zcmMgPSAnaHR0cHM6Ly92aWRlby1kZXYuZ2l0aHViLmlvL3N0cmVhbXMveDM2eGh6ei94MzZ4aHp6Lm0zdTgnO1xyXG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vY2hhbmdlZCB2YWx1ZSBvZiB2aWRlbyBjb250cm9scyBhZnRlciBvcGVuIGFub3RoZXIgdmlkZW9cclxuZnVuY3Rpb24gdmlkZW9Db250cm9sc0NoYW5nZVZhbHVlKG51bSl7XHJcbiAgICBpZih2aWRlb0ZpbHRlcnNbbnVtLTFdKXtcclxuICAgICAgICBjb25zb2xlLmxvZyh2aWRlb0ZpbHRlcnNbbnVtLTFdKTtcclxuICAgICAgICBpZih2aWRlb0ZpbHRlcnNbbnVtLTFdLmNvbnRyYXN0IHx8IHZpZGVvRmlsdGVyc1tudW0tMV0uY29udHJhc3QgPT0gMCApe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2aWRlb0ZpbHRlcnNbbnVtLTFdLmNvbnRyYXN0KjEwMCk7XHJcbiAgICAgICAgICAgICQoJyN2aWRlb19fY29udHJhc3QnKS52YWwodmlkZW9GaWx0ZXJzW251bS0xXS5jb250cmFzdCoxMDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndmFsIGNoYW5nZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJzEwMCcpO1xyXG4gICAgICAgICAgICAkKCcjdmlkZW9fX2NvbnRyYXN0JykudmFsKDEwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih2aWRlb0ZpbHRlcnNbbnVtLTFdLmJyaWdodG5lc3MgfHwgdmlkZW9GaWx0ZXJzW251bS0xXS5icmlnaHRuZXNzID09IDApe1xyXG4gICAgICAgICAgICAkKCcjdmlkZW9fX2JyaWdodG5lc3MnKS52YWwodmlkZW9GaWx0ZXJzW251bS0xXS5icmlnaHRuZXNzKjEwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICQoJyN2aWRlb19fYnJpZ2h0bmVzcycpLnZhbCgxMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpbml0VmlkZW9GaWx0ZXJzKCl7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICB2YXIgY291bnQgPSAkKCcudmlkZW9fX2l0ZW0nKS5sZW5ndGg7XHJcbiAgICBmb3IodmFyIGk9MDtpPGNvdW50O2krKyl7XHJcbiAgICAgICAgcmVzdWx0W2ldPXt9O1xyXG4gICAgICAgIHJlc3VsdFtpXS5jb250cmFzdD0xO1xyXG4gICAgICAgIHJlc3VsdFtpXS5icmlnaHRuZXNzPTE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHZpZGVvQ3NzQW5pbWF0aW9uKCl7XHJcbiAgICAkKCcudmlkZW9fX2l0ZW0tMScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTEnKS5hZGRDbGFzcygnaC00NSB3LTEwMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0yJykuYWRkQ2xhc3MoJ2gtNDUgdy0wIG8tMCcgKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMycpLmFkZENsYXNzKCdoLTAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTQnKS5hZGRDbGFzcygnaC0wIG8tMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19fY29udHJvbHMnKS5hZGRDbGFzcygnby0xJyk7XHJcbiAgICAgICAgdmlkZW9OdW0gPSAxO1xyXG4gICAgICAgIHZpZGVvQ29udHJvbHNDaGFuZ2VWYWx1ZSh2aWRlb051bSk7XHJcbiAgICB9KTtcclxuICAgICQoJy52aWRlb19faXRlbS0yJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMScpLmFkZENsYXNzKCdoLTQ1IHctMCBvLTAnICk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTInKS5hZGRDbGFzcygnaC00NSB3LTEwMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0zJykuYWRkQ2xhc3MoJ2gtMCBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tNCcpLmFkZENsYXNzKCdoLTAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19jb250cm9scycpLmFkZENsYXNzKCdvLTEnKTtcclxuICAgICAgICB2aWRlb051bSA9IDI7XHJcbiAgICAgICAgdmlkZW9Db250cm9sc0NoYW5nZVZhbHVlKHZpZGVvTnVtKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTMnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0xJykuYWRkQ2xhc3MoJ2gtMCBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMicpLmFkZENsYXNzKCdoLTAgby0wJyApO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0zJykuYWRkQ2xhc3MoJ3ctMTAwIGgtNDUnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tNCcpLmFkZENsYXNzKCd3LTAgaC00NSBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2NvbnRyb2xzJykuYWRkQ2xhc3MoJ28tMScpO1xyXG4gICAgICAgIHZpZGVvTnVtID0gMztcclxuICAgICAgICB2aWRlb0NvbnRyb2xzQ2hhbmdlVmFsdWUodmlkZW9OdW0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnZpZGVvX19pdGVtLTQnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0xJykuYWRkQ2xhc3MoJ2gtMCBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMicpLmFkZENsYXNzKCdoLTAgby0wJyApO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0zJykuYWRkQ2xhc3MoJ3ctMCBoLTQ1IG8tMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS00JykuYWRkQ2xhc3MoJ3ctMTAwIGgtNDUnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2NvbnRyb2xzJykuYWRkQ2xhc3MoJ28tMScpO1xyXG4gICAgICAgIHZpZGVvTnVtID0gNDtcclxuICAgICAgICB2aWRlb0NvbnRyb2xzQ2hhbmdlVmFsdWUodmlkZW9OdW0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9zaG93IGFsbCB2aWRlb3MgYW5pbWF0aW9uXHJcbiAgICAkKCcudmlkZW9fX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTEnKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00NSB3LTEwMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0yJykucmVtb3ZlQ2xhc3MoJ2gtMCB3LTAgby0wIGgtNDUgdy0xMDAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMycpLnJlbW92ZUNsYXNzKCdoLTAgdy0wIG8tMCBoLTQ1IHctMTAwJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTQnKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00NSB3LTEwMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19fY29udHJvbHMnKS5yZW1vdmVDbGFzcygnby0xJyk7XHJcbiAgICAgICAgdmlkZW9OdW0gPSBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY2hhbmdlQ29udHJhc3QodmFsKXtcclxuICAgIGlmKHZpZGVvTnVtKXtcclxuXHJcbiAgICAgICAgdmFyIGl0ZW1DbGFzc05hbWUgPSAnLnZpZGVvX19pdGVtLScrdmlkZW9OdW07XHJcbiAgICAgICAgdmFyIGNzc0NvbnRyYWN0PSdjb250cmFzdCgnK3ZhbC8xMDArJyknO1xyXG4gICAgICAgICQoaXRlbUNsYXNzTmFtZSkuY3NzKCdmaWx0ZXInLGNzc0NvbnRyYWN0KTtcclxuXHJcbiAgICAgICAgLy9zYXZlIGZpbHRlcnNcclxuICAgICAgICBpZighdmlkZW9GaWx0ZXJzKXtcclxuICAgICAgICAgICAgdmlkZW9GaWx0ZXJzID0gaW5pdFZpZGVvRmlsdGVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2aWRlb0ZpbHRlcnNbdmlkZW9OdW0tMV0uY29udHJhc3QgPSB2YWwvMTAwO1xyXG5cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjaGFuZ2VCcmlnaHRuZXNzKHZhbCl7XHJcbiAgICBpZih2aWRlb051bSl7XHJcbiAgICAgICAgdmFyIGl0ZW1DbGFzc05hbWUgPSAnLnZpZGVvX19pdGVtLScrdmlkZW9OdW07XHJcbiAgICAgICAgdmFyIGNzc0JyaWdodG5lc3M9J2JyaWdodG5lc3MoJyt2YWwvMTAwKycpJztcclxuICAgICAgICAkKGl0ZW1DbGFzc05hbWUpLmNzcygnZmlsdGVyJyxjc3NCcmlnaHRuZXNzKTtcclxuXHJcbiAgICAgICAgLy9zYXZlIGZpbHRlcnNcclxuICAgICAgICBpZighdmlkZW9GaWx0ZXJzKXtcclxuICAgICAgICAgICAgdmlkZW9GaWx0ZXJzID0gaW5pdFZpZGVvRmlsdGVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2aWRlb0ZpbHRlcnNbdmlkZW9OdW0tMV0uYnJpZ2h0bmVzcyA9IHZhbC8xMDA7XHJcbiAgICB9XHJcbn1cclxuaW5pdFZpZGVvKFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLTEnKSxcclxuICAgICdodHRwczovL2JpdGRhc2gtYS5ha2FtYWloZC5uZXQvY29udGVudC9NSTIwMTEwOTIxMDA4NF8xL20zdThzL2YwOGU4MGRhLWJmMWQtNGUzZC04ODk5LWYwZjYxNTVmNmVmYS5tM3U4J1xyXG4pO1xyXG5pbml0VmlkZW8oXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW8tMicpLFxyXG4gICAgJ2h0dHBzOi8vYml0ZGFzaC1hLmFrYW1haWhkLm5ldC9jb250ZW50L3NpbnRlbC9obHMvcGxheWxpc3QubTN1OCdcclxuKTtcclxuaW5pdFZpZGVvKFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLTMnKSxcclxuICAgICdodHRwOi8vMTg0LjcyLjIzOS4xNDkvdm9kL3NtaWw6QmlnQnVja0J1bm55LnNtaWwvcGxheWxpc3QubTN1OCdcclxuKTtcclxuaW5pdFZpZGVvKFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLTQnKSxcclxuICAgICdodHRwOi8vd3d3LnN0cmVhbWJveC5mci9wbGF5bGlzdHMvdGVzdF8wMDEvc3RyZWFtLm0zdTgnXHJcbik7XHJcblxyXG4vL2luaXRcclxudmFyIHZpZGVvTnVtO1xyXG5jb25zb2xlLmxvZygnaW5pdCcpO1xyXG52YXIgdmlkZW9GaWx0ZXJzID0gaW5pdFZpZGVvRmlsdGVycygpO1xyXG5cclxuaWYoJChkb2N1bWVudCkud2lkdGgoKT40NTApIHtcclxuICAgIHZpZGVvQ3NzQW5pbWF0aW9uKCk7XHJcbn1cclxuXHJcbiQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICBpZigkKGRvY3VtZW50KS53aWR0aCgpPjQ1MCl7XHJcbiAgICAgIHZpZGVvQ3NzQW5pbWF0aW9uKCk7XHJcbiAgfVxyXG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgZmlyc3RTb25nTmFtZSA9ICQoJy5wbGF5ZXJfX3NvbmcnKS50ZXh0KCk7XHJcbiAgICBjdXRTb25nTmFtZShmaXJzdFNvbmdOYW1lKTtcclxuICAgICQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgICAgICBjdXRTb25nTmFtZShmaXJzdFNvbmdOYW1lKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5mdW5jdGlvbiBjdXRTb25nTmFtZShzb25nTmFtZSl7XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA0NTApIHtcclxuICAgICAgICB2YXIgYSA9IHNvbmdOYW1lO1xyXG4gICAgICAgIGlmIChhLmxlbmd0aCA+IDIzKSB7XHJcbiAgICAgICAgICAgIGEgPSBhLnN1YnN0cmluZygwLCAyMyk7XHJcbiAgICAgICAgICAgIGEgKz0gXCIuLi5cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLnBsYXllcl9fc29uZycpLnRleHQoYSk7XHJcbiAgICB9XHJcbn0iXX0=
