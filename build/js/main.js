function initAudioAnalyzer(){window.addEventListener("load",function(){try{return window.AudioContext=window.AudioContext||window.webkitAudioContext,new AudioContext}catch(o){alert("Opps.. Your browser do not support audio API")}},!1)}
function initVideo(e,t){if(Hls.isSupported()){var i=new Hls;i.loadSource(t),i.attachMedia(e),i.on(Hls.Events.MANIFEST_PARSED,function(){e.play()})}else e.canPlayType("application/vnd.apple.mpegurl")&&(e.src="https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8",e.addEventListener("loadedmetadata",function(){e.play()}))}function initVideoFilters(){for(var e={},t=$(".video__item").length,i=0;i<t;i++)e[i]={},e[i].contrast=1,e[i].brightness=1;return e}
var videoNum;initVideo(document.getElementById("video-1"),"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8"),initVideo(document.getElementById("video-2"),"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"),initVideo(document.getElementById("video-3"),"http://184.72.239.149/vod/smil:BigBuckBunny.smil/playlist.m3u8"),initVideo(document.getElementById("video-4"),"http://www.streambox.fr/playlists/test_001/stream.m3u8");var videoFilters=initVideoFilters();450<$(document).width()?videoCssAnimation():setVideoDefaultCss(),$(window).resize(function(){450<$(document).width()?videoCssAnimation():setVideoDefaultCss()});var audioContext=initAudioAnalyzer();
function videoCssAnimation(){$(".video__item-1").click(function(){$(".video__item-1").addClass("h-40 w-100"),$(".video__item-2").addClass("h-40 w-0 o-0"),$(".video__item-3").addClass("h-0 o-0"),$(".video__item-4").addClass("h-0 o-0"),$(".video__controls").addClass("o-1"),videoNum=1,videoControlsChangeValue(videoNum)}),$(".video__item-2").click(function(){$(".video__item-1").addClass("h-40 w-0 o-0"),$(".video__item-2").addClass("h-40 w-100"),$(".video__item-3").addClass("h-0 o-0"),$(".video__item-4").addClass("h-0 o-0"),$(".video__controls").addClass("o-1"),videoNum=2,videoControlsChangeValue(videoNum)}),$(".video__item-3").click(function(){$(".video__item-1").addClass("h-0 o-0"),$(".video__item-2").addClass("h-0 o-0"),$(".video__item-3").addClass("w-100 h-40"),$(".video__item-4").addClass("w-0 h-40 o-0"),$(".video__controls").addClass("o-1"),videoNum=3,videoControlsChangeValue(videoNum)}),$(".video__item-4").click(function(){$(".video__item-1").addClass("h-0 o-0"),$(".video__item-2").addClass("h-0 o-0"),$(".video__item-3").addClass("w-0 h-40 o-0"),$(".video__item-4").addClass("w-100 h-40"),$(".video__controls").addClass("o-1"),videoNum=4,videoControlsChangeValue(videoNum)}),$(".video__button").click(function(){setVideoDefaultCss(),videoNum=null})}function setVideoDefaultCss(){$(".video__item-1").removeClass("h-0 w-0 o-0 h-40 w-100"),$(".video__item-2").removeClass("h-0 w-0 o-0 h-40 w-100"),$(".video__item-3").removeClass("h-0 w-0 o-0 h-40 w-100"),$(".video__item-4").removeClass("h-0 w-0 o-0 h-40 w-100"),$(".video__controls").removeClass("o-1")}
function videoControlsChangeValue(i){videoFilters[i-1]&&(videoFilters[i-1].contrast||0==videoFilters[i-1].contrast?$("#video__contrast").val(100*videoFilters[i-1].contrast):$("#video__contrast").val(100),videoFilters[i-1].brightness||0==videoFilters[i-1].brightness?$("#video__brightness").val(100*videoFilters[i-1].brightness):$("#video__brightness").val(100))}function changeContrast(i){if(videoNum){var e=".video__item-"+videoNum,t="contrast("+i/100+")";$(e).css("filter",t),videoFilters||(videoFilters=initVideoFilters()),videoFilters[videoNum-1].contrast=i/100}}function changeBrightness(i){if(videoNum){var e=".video__item-"+videoNum,t="brightness("+i/100+")";$(e).css("filter",t),videoFilters||(videoFilters=initVideoFilters()),videoFilters[videoNum-1].brightness=i/100}}
function cutSongName(n){if($(window).width()<450){var t=n;23<t.length&&(t=t.substring(0,23),t+="..."),$(".player__song").text(t)}}$(document).ready(function(){var n=$(".player__song").text();cutSongName(n),$(window).resize(function(){cutSongName(n)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpZGVvL2luaXRBdWRpb0FuYWx5emVyLmpzIiwidmlkZW8vaW5pdFZpZGVvLmpzIiwidmlkZW8vdmlkZW8uanMiLCJ2aWRlby92aWRlb0FuaW1hdGUuanMiLCJ2aWRlby92aWRlb0NvbnRyb2xzLmpzIiwibWFpbi9jYXJkL3BsYXllci9wbGF5ZXIuanMiXSwibmFtZXMiOlsiaW5pdEF1ZGlvQW5hbHl6ZXIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiZSIsImFsZXJ0IiwiaW5pdFZpZGVvIiwidmlkZW8iLCJ1cmwiLCJIbHMiLCJpc1N1cHBvcnRlZCIsImhscyIsImxvYWRTb3VyY2UiLCJhdHRhY2hNZWRpYSIsIm9uIiwiRXZlbnRzIiwiTUFOSUZFU1RfUEFSU0VEIiwicGxheSIsImNhblBsYXlUeXBlIiwic3JjIiwiaW5pdFZpZGVvRmlsdGVycyIsInJlc3VsdCIsImNvdW50IiwiJCIsImxlbmd0aCIsImkiLCJjb250cmFzdCIsImJyaWdodG5lc3MiLCJ2aWRlb051bSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2aWRlb0ZpbHRlcnMiLCJ3aWR0aCIsInZpZGVvQ3NzQW5pbWF0aW9uIiwic2V0VmlkZW9EZWZhdWx0Q3NzIiwicmVzaXplIiwiYXVkaW9Db250ZXh0IiwiY2xpY2siLCJhZGRDbGFzcyIsInZpZGVvQ29udHJvbHNDaGFuZ2VWYWx1ZSIsInJlbW92ZUNsYXNzIiwibnVtIiwidmFsIiwiY2hhbmdlQ29udHJhc3QiLCJpdGVtQ2xhc3NOYW1lIiwiY3NzQ29udHJhY3QiLCJjc3MiLCJjaGFuZ2VCcmlnaHRuZXNzIiwiY3NzQnJpZ2h0bmVzcyIsImN1dFNvbmdOYW1lIiwic29uZ05hbWUiLCJhIiwic3Vic3RyaW5nIiwidGV4dCIsInJlYWR5IiwiZmlyc3RTb25nTmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0Esb0JBQ0xDLE9BQU9DLGlCQUFpQixPQUFRLFdBQzVCLElBRUksT0FEQUQsT0FBT0UsYUFBZUYsT0FBT0UsY0FBY0YsT0FBT0csbUJBQzNDLElBQUlELGFBRWYsTUFBTUUsR0FDRkMsTUFBTSxtREFFWDtBQ1JQLFNBQVNDLFVBQVVDLEVBQU9DLEdBQ3RCLEdBQUlDLElBQUlDLGNBQWUsQ0FDbkIsSUFBSUMsRUFBTSxJQUFJRixJQUNkRSxFQUFJQyxXQUFXSixHQUNmRyxFQUFJRSxZQUFZTixHQUNoQkksRUFBSUcsR0FBR0wsSUFBSU0sT0FBT0MsZ0JBQWlCLFdBQy9CVCxFQUFNVSxjQUVIVixFQUFNVyxZQUFZLG1DQUN6QlgsRUFBTVksSUFBTSwyREFDWlosRUFBTU4saUJBQWlCLGlCQUFrQixXQUNyQ00sRUFBTVUsVUFJbEIsU0FBU0csbUJBR0wsSUFGQSxJQUFJQyxFQUFTLEdBQ1RDLEVBQVFDLEVBQUUsZ0JBQWdCQyxPQUN0QkMsRUFBRSxFQUFFQSxFQUFFSCxFQUFNRyxJQUNoQkosRUFBT0ksR0FBRyxHQUNWSixFQUFPSSxHQUFHQyxTQUFTLEVBQ25CTCxFQUFPSSxHQUFHRSxXQUFXLEVBRXpCLE9BQU9OO0FDTFgsSUFBSU8sU0FuQkp0QixVQUNJdUIsU0FBU0MsZUFBZSxXQUN4QiwyR0FFSnhCLFVBQ0l1QixTQUFTQyxlQUFlLFdBQ3hCLG1FQUVKeEIsVUFDSXVCLFNBQVNDLGVBQWUsV0FDeEIsa0VBRUp4QixVQUNJdUIsU0FBU0MsZUFBZSxXQUN4QiwwREFPSixJQUFJQyxhQUFlWCxtQkFFSSxJQUFwQkcsRUFBRU0sVUFBVUcsUUFDWEMsb0JBRUFDLHFCQUdKWCxFQUFHdkIsUUFBU21DLE9BQU8sV0FDTSxJQUFwQlosRUFBRU0sVUFBVUcsUUFDWEMsb0JBRUFDLHVCQUtOLElBQUlFLGFBQWVyQztBQ3RDbkIsU0FBU2tDLG9CQUNMVixFQUFFLGtCQUFrQmMsTUFBTSxXQUN0QmQsRUFBRSxrQkFBa0JlLFNBQVMsY0FDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLGdCQUM3QmYsRUFBRSxrQkFBa0JlLFNBQVMsV0FDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLFdBQzdCZixFQUFFLG9CQUFvQmUsU0FBUyxPQUMvQlYsU0FBVyxFQUNYVyx5QkFBeUJYLFlBRTdCTCxFQUFFLGtCQUFrQmMsTUFBTSxXQUN0QmQsRUFBRSxrQkFBa0JlLFNBQVMsZ0JBQzdCZixFQUFFLGtCQUFrQmUsU0FBUyxjQUM3QmYsRUFBRSxrQkFBa0JlLFNBQVMsV0FDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLFdBQzdCZixFQUFFLG9CQUFvQmUsU0FBUyxPQUMvQlYsU0FBVyxFQUNYVyx5QkFBeUJYLFlBRTdCTCxFQUFFLGtCQUFrQmMsTUFBTSxXQUN0QmQsRUFBRSxrQkFBa0JlLFNBQVMsV0FDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLFdBQzdCZixFQUFFLGtCQUFrQmUsU0FBUyxjQUM3QmYsRUFBRSxrQkFBa0JlLFNBQVMsZ0JBQzdCZixFQUFFLG9CQUFvQmUsU0FBUyxPQUMvQlYsU0FBVyxFQUNYVyx5QkFBeUJYLFlBRzdCTCxFQUFFLGtCQUFrQmMsTUFBTSxXQUN0QmQsRUFBRSxrQkFBa0JlLFNBQVMsV0FDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLFdBQzdCZixFQUFFLGtCQUFrQmUsU0FBUyxnQkFDN0JmLEVBQUUsa0JBQWtCZSxTQUFTLGNBQzdCZixFQUFFLG9CQUFvQmUsU0FBUyxPQUMvQlYsU0FBVyxFQUNYVyx5QkFBeUJYLFlBSTdCTCxFQUFFLGtCQUFrQmMsTUFBTSxXQUN0QkgscUJBQ0FOLFNBQVcsT0FHbkIsU0FBU00scUJBQ0xYLEVBQUUsa0JBQWtCaUIsWUFBWSwwQkFDaENqQixFQUFFLGtCQUFrQmlCLFlBQVksMEJBQ2hDakIsRUFBRSxrQkFBa0JpQixZQUFZLDBCQUNoQ2pCLEVBQUUsa0JBQWtCaUIsWUFBWSwwQkFDaENqQixFQUFFLG9CQUFvQmlCLFlBQVk7QUNqRHRDLFNBQVNELHlCQUF5QkUsR0FDM0JWLGFBQWFVLEVBQUksS0FDYlYsYUFBYVUsRUFBSSxHQUFHZixVQUE0QyxHQUFoQ0ssYUFBYVUsRUFBSSxHQUFHZixTQUNuREgsRUFBRSxvQkFBb0JtQixJQUFpQyxJQUE3QlgsYUFBYVUsRUFBSSxHQUFHZixVQUc5Q0gsRUFBRSxvQkFBb0JtQixJQUFJLEtBRzNCWCxhQUFhVSxFQUFJLEdBQUdkLFlBQWdELEdBQWxDSSxhQUFhVSxFQUFJLEdBQUdkLFdBQ3JESixFQUFFLHNCQUFzQm1CLElBQW1DLElBQS9CWCxhQUFhVSxFQUFJLEdBQUdkLFlBR2hESixFQUFFLHNCQUFzQm1CLElBQUksTUFJeEMsU0FBU0MsZUFBZUQsR0FDcEIsR0FBR2QsU0FBUyxDQUNSLElBQUlnQixFQUFnQixnQkFBZ0JoQixTQUNoQ2lCLEVBQVksWUFBWUgsRUFBSSxJQUFJLElBQ3BDbkIsRUFBRXFCLEdBQWVFLElBQUksU0FBU0QsR0FHMUJkLGVBQ0FBLGFBQWVYLG9CQUVuQlcsYUFBYUgsU0FBUyxHQUFHRixTQUFXZ0IsRUFBSSxLQUloRCxTQUFTSyxpQkFBaUJMLEdBQ3RCLEdBQUdkLFNBQVMsQ0FDUixJQUFJZ0IsRUFBZ0IsZ0JBQWdCaEIsU0FDaENvQixFQUFjLGNBQWNOLEVBQUksSUFBSSxJQUN4Q25CLEVBQUVxQixHQUFlRSxJQUFJLFNBQVNFLEdBRzFCakIsZUFDQUEsYUFBZVgsb0JBRW5CVyxhQUFhSCxTQUFTLEdBQUdELFdBQWFlLEVBQUk7QUNoQ2xELFNBQVNPLFlBQVlDLEdBQ2pCLEdBQUkzQixFQUFFdkIsUUFBUWdDLFFBQVUsSUFBSyxDQUN6QixJQUFJbUIsRUFBSUQsRUFDTyxHQUFYQyxFQUFFM0IsU0FDRjJCLEVBQUlBLEVBQUVDLFVBQVUsRUFBRyxJQUNuQkQsR0FBSyxPQUVUNUIsRUFBRSxpQkFBaUI4QixLQUFLRixJQWpCaEM1QixFQUFFTSxVQUFVeUIsTUFBTSxXQUVkLElBQUlDLEVBQWdCaEMsRUFBRSxpQkFBaUI4QixPQUN2Q0osWUFBWU0sR0FDWmhDLEVBQUd2QixRQUFTbUMsT0FBTyxXQUNmYyxZQUFZTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaW5pdEF1ZGlvQW5hbHl6ZXIoKXtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24oKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB3aW5kb3cuQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdWRpb0NvbnRleHQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdPcHBzLi4gWW91ciBicm93c2VyIGRvIG5vdCBzdXBwb3J0IGF1ZGlvIEFQSScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIGZhbHNlKTtcclxufSIsIi8vVmlkZW8gZnJvbSBodHRwczovL2JpdG1vdmluLmNvbS9tcGVnLWRhc2gtaGxzLWV4YW1wbGVzLXNhbXBsZS1zdHJlYW1zL1xyXG5mdW5jdGlvbiBpbml0VmlkZW8odmlkZW8sIHVybCkge1xyXG4gICAgaWYgKEhscy5pc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgdmFyIGhscyA9IG5ldyBIbHMoKTtcclxuICAgICAgICBobHMubG9hZFNvdXJjZSh1cmwpO1xyXG4gICAgICAgIGhscy5hdHRhY2hNZWRpYSh2aWRlbyk7XHJcbiAgICAgICAgaGxzLm9uKEhscy5FdmVudHMuTUFOSUZFU1RfUEFSU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAodmlkZW8uY2FuUGxheVR5cGUoJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsJykpIHtcclxuICAgICAgICB2aWRlby5zcmMgPSAnaHR0cHM6Ly92aWRlby1kZXYuZ2l0aHViLmlvL3N0cmVhbXMveDM2eGh6ei94MzZ4aHp6Lm0zdTgnO1xyXG4gICAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5pdFZpZGVvRmlsdGVycygpe1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgdmFyIGNvdW50ID0gJCgnLnZpZGVvX19pdGVtJykubGVuZ3RoO1xyXG4gICAgZm9yKHZhciBpPTA7aTxjb3VudDtpKyspe1xyXG4gICAgICAgIHJlc3VsdFtpXT17fTtcclxuICAgICAgICByZXN1bHRbaV0uY29udHJhc3Q9MTtcclxuICAgICAgICByZXN1bHRbaV0uYnJpZ2h0bmVzcz0xO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufSIsImluaXRWaWRlbyhcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby0xJyksXHJcbiAgICAnaHR0cHM6Ly9iaXRkYXNoLWEuYWthbWFpaGQubmV0L2NvbnRlbnQvTUkyMDExMDkyMTAwODRfMS9tM3U4cy9mMDhlODBkYS1iZjFkLTRlM2QtODg5OS1mMGY2MTU1ZjZlZmEubTN1OCdcclxuKTtcclxuaW5pdFZpZGVvKFxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLTInKSxcclxuICAgICdodHRwczovL2JpdGRhc2gtYS5ha2FtYWloZC5uZXQvY29udGVudC9zaW50ZWwvaGxzL3BsYXlsaXN0Lm0zdTgnXHJcbik7XHJcbmluaXRWaWRlbyhcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby0zJyksXHJcbiAgICAnaHR0cDovLzE4NC43Mi4yMzkuMTQ5L3ZvZC9zbWlsOkJpZ0J1Y2tCdW5ueS5zbWlsL3BsYXlsaXN0Lm0zdTgnXHJcbik7XHJcbmluaXRWaWRlbyhcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWRlby00JyksXHJcbiAgICAnaHR0cDovL3d3dy5zdHJlYW1ib3guZnIvcGxheWxpc3RzL3Rlc3RfMDAxL3N0cmVhbS5tM3U4J1xyXG4pO1xyXG5cclxuXHJcbi8vb3BlbmVkIHZpZGVvXHJcbnZhciB2aWRlb051bTtcclxuXHJcbnZhciB2aWRlb0ZpbHRlcnMgPSBpbml0VmlkZW9GaWx0ZXJzKCk7XHJcblxyXG5pZigkKGRvY3VtZW50KS53aWR0aCgpPjQ1MCkge1xyXG4gICAgdmlkZW9Dc3NBbmltYXRpb24oKTtcclxufWVsc2V7XHJcbiAgICBzZXRWaWRlb0RlZmF1bHRDc3MoKTtcclxufVxyXG5cclxuJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gIGlmKCQoZG9jdW1lbnQpLndpZHRoKCk+NDUwKXtcclxuICAgICAgdmlkZW9Dc3NBbmltYXRpb24oKTtcclxuICB9ZWxzZXtcclxuICAgICAgc2V0VmlkZW9EZWZhdWx0Q3NzKCk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG52YXIgYXVkaW9Db250ZXh0ID0gaW5pdEF1ZGlvQW5hbHl6ZXIoKTsiLCJmdW5jdGlvbiB2aWRlb0Nzc0FuaW1hdGlvbigpe1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0xJykuYWRkQ2xhc3MoJ2gtNDAgdy0xMDAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMicpLmFkZENsYXNzKCdoLTQwIHctMCBvLTAnICk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTMnKS5hZGRDbGFzcygnaC0wIG8tMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS00JykuYWRkQ2xhc3MoJ2gtMCBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2NvbnRyb2xzJykuYWRkQ2xhc3MoJ28tMScpO1xyXG4gICAgICAgIHZpZGVvTnVtID0gMTtcclxuICAgICAgICB2aWRlb0NvbnRyb2xzQ2hhbmdlVmFsdWUodmlkZW9OdW0pO1xyXG4gICAgfSk7XHJcbiAgICAkKCcudmlkZW9fX2l0ZW0tMicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTEnKS5hZGRDbGFzcygnaC00MCB3LTAgby0wJyApO1xyXG4gICAgICAgICQoJy52aWRlb19faXRlbS0yJykuYWRkQ2xhc3MoJ2gtNDAgdy0xMDAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMycpLmFkZENsYXNzKCdoLTAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTQnKS5hZGRDbGFzcygnaC0wIG8tMCcpO1xyXG4gICAgICAgICQoJy52aWRlb19fY29udHJvbHMnKS5hZGRDbGFzcygnby0xJyk7XHJcbiAgICAgICAgdmlkZW9OdW0gPSAyO1xyXG4gICAgICAgIHZpZGVvQ29udHJvbHNDaGFuZ2VWYWx1ZSh2aWRlb051bSk7XHJcbiAgICB9KTtcclxuICAgICQoJy52aWRlb19faXRlbS0zJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMScpLmFkZENsYXNzKCdoLTAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTInKS5hZGRDbGFzcygnaC0wIG8tMCcgKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMycpLmFkZENsYXNzKCd3LTEwMCBoLTQwJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTQnKS5hZGRDbGFzcygndy0wIGgtNDAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19jb250cm9scycpLmFkZENsYXNzKCdvLTEnKTtcclxuICAgICAgICB2aWRlb051bSA9IDM7XHJcbiAgICAgICAgdmlkZW9Db250cm9sc0NoYW5nZVZhbHVlKHZpZGVvTnVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy52aWRlb19faXRlbS00JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMScpLmFkZENsYXNzKCdoLTAgby0wJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19pdGVtLTInKS5hZGRDbGFzcygnaC0wIG8tMCcgKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tMycpLmFkZENsYXNzKCd3LTAgaC00MCBvLTAnKTtcclxuICAgICAgICAkKCcudmlkZW9fX2l0ZW0tNCcpLmFkZENsYXNzKCd3LTEwMCBoLTQwJyk7XHJcbiAgICAgICAgJCgnLnZpZGVvX19jb250cm9scycpLmFkZENsYXNzKCdvLTEnKTtcclxuICAgICAgICB2aWRlb051bSA9IDQ7XHJcbiAgICAgICAgdmlkZW9Db250cm9sc0NoYW5nZVZhbHVlKHZpZGVvTnVtKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vc2hvdyBhbGwgdmlkZW9zIGFuaW1hdGlvblxyXG4gICAgJCgnLnZpZGVvX19idXR0b24nKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHNldFZpZGVvRGVmYXVsdENzcygpO1xyXG4gICAgICAgIHZpZGVvTnVtID0gbnVsbDtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldFZpZGVvRGVmYXVsdENzcygpe1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTEnKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00MCB3LTEwMCcpO1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTInKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00MCB3LTEwMCcpO1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTMnKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00MCB3LTEwMCcpO1xyXG4gICAgJCgnLnZpZGVvX19pdGVtLTQnKS5yZW1vdmVDbGFzcygnaC0wIHctMCBvLTAgaC00MCB3LTEwMCcpO1xyXG4gICAgJCgnLnZpZGVvX19jb250cm9scycpLnJlbW92ZUNsYXNzKCdvLTEnKTtcclxufSIsIi8vY2hhbmdlZCB2YWx1ZSBvZiB2aWRlbyBjb250cm9scyBhZnRlciBvcGVuIGFub3RoZXIgdmlkZW9cclxuZnVuY3Rpb24gdmlkZW9Db250cm9sc0NoYW5nZVZhbHVlKG51bSl7XHJcbiAgICBpZih2aWRlb0ZpbHRlcnNbbnVtLTFdKXtcclxuICAgICAgICBpZih2aWRlb0ZpbHRlcnNbbnVtLTFdLmNvbnRyYXN0IHx8IHZpZGVvRmlsdGVyc1tudW0tMV0uY29udHJhc3QgPT0gMCApe1xyXG4gICAgICAgICAgICAkKCcjdmlkZW9fX2NvbnRyYXN0JykudmFsKHZpZGVvRmlsdGVyc1tudW0tMV0uY29udHJhc3QqMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgJCgnI3ZpZGVvX19jb250cmFzdCcpLnZhbCgxMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodmlkZW9GaWx0ZXJzW251bS0xXS5icmlnaHRuZXNzIHx8IHZpZGVvRmlsdGVyc1tudW0tMV0uYnJpZ2h0bmVzcyA9PSAwKXtcclxuICAgICAgICAgICAgJCgnI3ZpZGVvX19icmlnaHRuZXNzJykudmFsKHZpZGVvRmlsdGVyc1tudW0tMV0uYnJpZ2h0bmVzcyoxMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAkKCcjdmlkZW9fX2JyaWdodG5lc3MnKS52YWwoMTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2hhbmdlQ29udHJhc3QodmFsKXtcclxuICAgIGlmKHZpZGVvTnVtKXtcclxuICAgICAgICB2YXIgaXRlbUNsYXNzTmFtZSA9ICcudmlkZW9fX2l0ZW0tJyt2aWRlb051bTtcclxuICAgICAgICB2YXIgY3NzQ29udHJhY3Q9J2NvbnRyYXN0KCcrdmFsLzEwMCsnKSc7XHJcbiAgICAgICAgJChpdGVtQ2xhc3NOYW1lKS5jc3MoJ2ZpbHRlcicsY3NzQ29udHJhY3QpO1xyXG5cclxuICAgICAgICAvL3NhdmUgZmlsdGVyc1xyXG4gICAgICAgIGlmKCF2aWRlb0ZpbHRlcnMpe1xyXG4gICAgICAgICAgICB2aWRlb0ZpbHRlcnMgPSBpbml0VmlkZW9GaWx0ZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZpZGVvRmlsdGVyc1t2aWRlb051bS0xXS5jb250cmFzdCA9IHZhbC8xMDA7XHJcblxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNoYW5nZUJyaWdodG5lc3ModmFsKXtcclxuICAgIGlmKHZpZGVvTnVtKXtcclxuICAgICAgICB2YXIgaXRlbUNsYXNzTmFtZSA9ICcudmlkZW9fX2l0ZW0tJyt2aWRlb051bTtcclxuICAgICAgICB2YXIgY3NzQnJpZ2h0bmVzcz0nYnJpZ2h0bmVzcygnK3ZhbC8xMDArJyknO1xyXG4gICAgICAgICQoaXRlbUNsYXNzTmFtZSkuY3NzKCdmaWx0ZXInLGNzc0JyaWdodG5lc3MpO1xyXG5cclxuICAgICAgICAvL3NhdmUgZmlsdGVyc1xyXG4gICAgICAgIGlmKCF2aWRlb0ZpbHRlcnMpe1xyXG4gICAgICAgICAgICB2aWRlb0ZpbHRlcnMgPSBpbml0VmlkZW9GaWx0ZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZpZGVvRmlsdGVyc1t2aWRlb051bS0xXS5icmlnaHRuZXNzID0gdmFsLzEwMDtcclxuICAgIH1cclxufSIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciBmaXJzdFNvbmdOYW1lID0gJCgnLnBsYXllcl9fc29uZycpLnRleHQoKTtcclxuICAgIGN1dFNvbmdOYW1lKGZpcnN0U29uZ05hbWUpO1xyXG4gICAgJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGN1dFNvbmdOYW1lKGZpcnN0U29uZ05hbWUpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGN1dFNvbmdOYW1lKHNvbmdOYW1lKXtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDQ1MCkge1xyXG4gICAgICAgIHZhciBhID0gc29uZ05hbWU7XHJcbiAgICAgICAgaWYgKGEubGVuZ3RoID4gMjMpIHtcclxuICAgICAgICAgICAgYSA9IGEuc3Vic3RyaW5nKDAsIDIzKTtcclxuICAgICAgICAgICAgYSArPSBcIi4uLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcucGxheWVyX19zb25nJykudGV4dChhKTtcclxuICAgIH1cclxufSJdfQ==
